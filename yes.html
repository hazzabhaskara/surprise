<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>22 Alasan Kenapa Aku Sayang Kamu ğŸ’•</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Nunito:wght@300;400;600;700;800;900&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@600&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg: #080810;
            --card-glow: #ff6b9d;
            --accent: #ff6b9d;
            --gold: #f5c842;
            --white: #f0eeff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: var(--bg);
            font-family: 'Nunito', sans-serif;
            color: var(--white);
            overflow-x: hidden;
            position: relative;
        }

        /* â”€â”€ BACKGROUND LAYERS â”€â”€ */
        #bg-gradient {
            position: fixed;
            inset: 0;
            z-index: 0;
            background: radial-gradient(ellipse at 50% 50%, rgba(10, 10, 30, 1) 0%, rgba(4, 4, 16, 1) 100%);
            transition: background 1s ease;
        }

        #bg-blob {
            position: fixed;
            inset: 0;
            z-index: 0;
            pointer-events: none;
            transition: opacity 0.8s ease;
        }

        .blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.18;
            transition: all 1.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Stars */
        .stars {
            position: fixed;
            inset: 0;
            z-index: 0;
            pointer-events: none;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle var(--dur) ease-in-out infinite alternate;
        }

        @keyframes twinkle {
            from {
                opacity: 0.05;
                transform: scale(0.8);
            }

            to {
                opacity: 0.8;
                transform: scale(1.3);
            }
        }

        /* Floating particles */
        .particles {
            position: fixed;
            inset: 0;
            z-index: 0;
            pointer-events: none;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            font-size: var(--sz);
            bottom: -60px;
            left: var(--left);
            animation: floatUp var(--spd) ease-in infinite;
            animation-delay: var(--delay);
            opacity: 0;
        }

        @keyframes floatUp {
            0% {
                opacity: 0;
                transform: translateY(0) rotate(0deg) scale(0.5);
            }

            10% {
                opacity: 0.7;
            }

            90% {
                opacity: 0.2;
            }

            100% {
                opacity: 0;
                transform: translateY(-110vh) rotate(720deg) scale(1.2);
            }
        }

        /* â”€â”€ MAIN LAYOUT â”€â”€ */
        .container {
            position: relative;
            z-index: 1;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 24px 20px;
            gap: 22px;
        }

        /* â”€â”€ HEADER â”€â”€ */
        .header {
            text-align: center;
            animation: fadeDown 0.8s ease both;
        }

        .header h1 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(1.5rem, 5vw, 2.4rem);
            line-height: 1.3;
            background: linear-gradient(135deg, var(--gold) 0%, #ff8c69 50%, #ff6b9d 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            margin-top: 6px;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.35);
            letter-spacing: 0.1em;
            font-weight: 300;
        }

        @keyframes fadeDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* â”€â”€ PROGRESS â”€â”€ */
        .progress-wrap {
            width: min(520px, 90vw);
            animation: fadeDown 0.8s 0.1s ease both;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.72rem;
            color: rgba(255, 255, 255, 0.35);
            margin-bottom: 8px;
            font-weight: 700;
            letter-spacing: 0.08em;
        }

        .progress-label #prog-num {
            color: var(--accent);
            font-size: 0.9rem;
            transition: color 0.6s;
        }

        .progress-bar-bg {
            height: 4px;
            background: rgba(255, 255, 255, 0.06);
            border-radius: 99px;
            overflow: hidden;
        }

        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent), var(--gold));
            border-radius: 99px;
            transition: width 0.7s cubic-bezier(0.4, 0, 0.2, 1), background 1s;
            box-shadow: 0 0 10px var(--accent);
        }

        /* â”€â”€ REASON NUMBER â”€â”€ */
        .reason-num-tag {
            font-size: 0.7rem;
            letter-spacing: 0.25em;
            text-transform: uppercase;
            color: rgba(255, 255, 255, 0.35);
            font-weight: 700;
            margin-bottom: 6px;
            display: block;
        }

        /* â”€â”€ CARD â”€â”€ */
        .card-wrap {
            position: relative;
            width: min(560px, 94vw);
            touch-action: pan-y;
            user-select: none;
        }

        .card {
            width: 100%;
            background: rgba(255, 255, 255, 0.055);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 28px;
            padding: 44px 36px;
            text-align: center;
            backdrop-filter: blur(24px);
            position: relative;
            overflow: hidden;
            transition:
                border-color 0.8s ease,
                box-shadow 0.8s ease,
                transform 0.3s ease;
            box-shadow:
                0 0 0 1px rgba(255, 255, 255, 0.04) inset,
                0 40px 80px rgba(0, 0, 0, 0.6),
                0 0 80px rgba(255, 107, 157, 0.08);
            cursor: grab;
        }

        .card:active {
            cursor: grabbing;
        }

        /* Shimmer overlay */
        .card::before {
            content: '';
            position: absolute;
            inset: 0;
            background: conic-gradient(from 0deg at 50% 50%,
                    transparent 0%, rgba(255, 255, 255, 0.02) 25%,
                    transparent 50%, rgba(255, 255, 255, 0.02) 75%, transparent 100%);
            animation: cardShimmer 8s linear infinite;
            pointer-events: none;
            border-radius: inherit;
        }

        @keyframes cardShimmer {
            to {
                transform: rotate(360deg);
            }
        }

        /* Card glow streak */
        .card::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 60%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.04), transparent);
            animation: cardStreak 6s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes cardStreak {
            0% {
                left: -100%;
                opacity: 0;
            }

            20% {
                opacity: 1;
            }

            60% {
                left: 150%;
                opacity: 0;
            }

            100% {
                left: 150%;
                opacity: 0;
            }
        }

        /* â”€â”€ CARD ICON â”€â”€ */
        .card-icon {
            font-size: 4rem;
            display: block;
            margin-bottom: 16px;
            filter: drop-shadow(0 0 20px var(--accent));
            animation: iconFloat 3s ease-in-out infinite;
        }

        @keyframes iconFloat {

            0%,
            100% {
                transform: translateY(0) scale(1);
            }

            50% {
                transform: translateY(-8px) scale(1.08);
            }
        }

        .big-num {
            font-family: 'Playfair Display', serif;
            font-size: clamp(3.5rem, 12vw, 6rem);
            font-weight: 700;
            line-height: 1;
            display: block;
            margin-bottom: 20px;
            transition: color 0.6s, text-shadow 0.6s;
            position: relative;
            z-index: 1;
        }

        .reason-text {
            font-size: clamp(0.9rem, 2.4vw, 1.05rem);
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.88);
            font-weight: 400;
            position: relative;
            z-index: 1;
        }

        .reason-text em {
            font-style: normal;
            font-weight: 800;
            transition: color 0.6s;
        }

        /* â”€â”€ SWIPE HINT â”€â”€ */
        .swipe-hint {
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.25);
            letter-spacing: 0.1em;
            text-align: center;
            animation: swipePulse 2s ease-in-out infinite;
        }

        @keyframes swipePulse {

            0%,
            100% {
                opacity: 0.25;
            }

            50% {
                opacity: 0.6;
            }
        }

        /* â”€â”€ DOTS â”€â”€ */
        .dots {
            display: flex;
            gap: 5px;
            align-items: center;
            flex-wrap: wrap;
            justify-content: center;
            max-width: min(320px, 85vw);
        }

        .dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.15);
            cursor: pointer;
            transition: all 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .dot.active {
            background: var(--accent);
            width: 20px;
            border-radius: 3px;
            box-shadow: 0 0 10px var(--accent);
        }

        .dot.visited {
            background: rgba(255, 255, 255, 0.35);
        }

        /* â”€â”€ NAV BUTTONS â”€â”€ */
        .nav {
            display: flex;
            align-items: center;
            gap: 20px;
            animation: fadeUp 0.8s 0.2s ease both;
        }

        @keyframes fadeUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .nav-btn {
            width: 54px;
            height: 54px;
            border-radius: 50%;
            border: 1px solid rgba(255, 255, 255, 0.15);
            background: rgba(255, 255, 255, 0.07);
            color: white;
            font-size: 1.1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.25s;
            backdrop-filter: blur(10px);
        }

        .nav-btn:hover:not(:disabled) {
            background: rgba(255, 255, 255, 0.15);
            transform: scale(1.1);
        }

        .nav-btn:disabled {
            opacity: 0.25;
            cursor: not-allowed;
        }

        .nav-btn.primary {
            width: 68px;
            height: 68px;
            font-size: 1.6rem;
            background: linear-gradient(135deg, var(--accent), var(--gold));
            border: none;
            box-shadow: 0 8px 28px rgba(255, 107, 157, 0.45);
            transition: all 0.25s, background 0.8s, box-shadow 0.8s;
        }

        .nav-btn.primary:hover {
            transform: scale(1.12) translateY(-3px);
            box-shadow: 0 14px 40px rgba(255, 107, 157, 0.6);
        }

        /* â”€â”€ CARD TRANSITIONS â”€â”€ */
        .card.exit-left {
            animation: exitLeft 0.35s cubic-bezier(0.4, 0, 0.6, 1) forwards;
        }

        .card.exit-right {
            animation: exitRight 0.35s cubic-bezier(0.4, 0, 0.6, 1) forwards;
        }

        .card.enter-right {
            animation: enterRight 0.45s cubic-bezier(0.34, 1.3, 0.64, 1) forwards;
        }

        .card.enter-left {
            animation: enterLeft 0.45s cubic-bezier(0.34, 1.3, 0.64, 1) forwards;
        }

        @keyframes exitLeft {
            to {
                opacity: 0;
                transform: translateX(-120%) rotate(-6deg) scale(0.85);
            }
        }

        @keyframes exitRight {
            to {
                opacity: 0;
                transform: translateX(120%) rotate(6deg) scale(0.85);
            }
        }

        @keyframes enterRight {
            from {
                opacity: 0;
                transform: translateX(100%) rotate(4deg) scale(0.88);
            }

            to {
                opacity: 1;
                transform: translateX(0) rotate(0) scale(1);
            }
        }

        @keyframes enterLeft {
            from {
                opacity: 0;
                transform: translateX(-100%) rotate(-4deg) scale(0.88);
            }

            to {
                opacity: 1;
                transform: translateX(0) rotate(0) scale(1);
            }
        }

        /* â”€â”€ FINAL CARD â”€â”€ */
        .card.final-card {
            border-color: rgba(255, 215, 0, 0.3);
            background: rgba(255, 107, 157, 0.07);
        }

        .final-msg {
            font-size: clamp(1rem, 2.8vw, 1.2rem);
            font-weight: 900;
            color: var(--gold);
            margin-bottom: 12px;
            line-height: 1.5;
        }

        .final-sub {
            font-size: clamp(0.85rem, 2.2vw, 0.98rem);
            color: rgba(255, 255, 255, 0.75);
            line-height: 1.8;
        }

        .final-sub em {
            font-style: normal;
            font-weight: 800;
            color: #ff6b9d;
        }

        /* â”€â”€ MILESTONE BURST â”€â”€ */
        .burst-overlay {
            position: fixed;
            inset: 0;
            z-index: 200;
            pointer-events: none;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .burst-text {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2rem, 8vw, 5rem);
            font-weight: 700;
            text-align: center;
            line-height: 1.2;
            opacity: 0;
            transform: scale(0.3);
            transition: none;
        }

        .burst-text.pop {
            animation: burstPop 1.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }

        @keyframes burstPop {
            0% {
                opacity: 0;
                transform: scale(0.2) rotate(-10deg);
            }

            30% {
                opacity: 1;
                transform: scale(1.15) rotate(3deg);
            }

            55% {
                opacity: 1;
                transform: scale(0.95) rotate(-1deg);
            }

            70% {
                opacity: 1;
                transform: scale(1.02);
            }

            90% {
                opacity: 1;
            }

            100% {
                opacity: 0;
                transform: scale(1.1);
            }
        }

        /* â”€â”€ SPARKLE PARTICLES â”€â”€ */
        .sparkle {
            position: fixed;
            pointer-events: none;
            z-index: 300;
            font-size: var(--sz);
            animation: sparklePop 1s ease-out forwards;
        }

        @keyframes sparklePop {
            from {
                opacity: 1;
                transform: translate(0, 0) scale(1);
            }

            to {
                opacity: 0;
                transform: translate(var(--tx), var(--ty)) scale(0.2);
            }
        }

        /* â”€â”€ RIPPLE on card â”€â”€ */
        .ripple {
            position: absolute;
            border-radius: 50%;
            transform: scale(0);
            pointer-events: none;
            animation: rippleOut 0.7s ease-out forwards;
            background: radial-gradient(circle, var(--accent) 0%, transparent 70%);
            opacity: 0.4;
        }

        @keyframes rippleOut {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }

        /* â”€â”€ CONFETTI CANVAS â”€â”€ */
        #confetti {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 999;
        }

        /* â”€â”€ MUSIC TOGGLE â”€â”€ */
        #music-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.18);
            border-radius: 50%;
            width: 52px;
            height: 52px;
            font-size: 1.3rem;
            cursor: pointer;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        #music-toggle:hover {
            transform: scale(1.12);
        }

        /* â”€â”€ SCREEN FLASH â”€â”€ */
        #flash {
            position: fixed;
            inset: 0;
            z-index: 500;
            pointer-events: none;
            background: white;
            opacity: 0;
        }

        #flash.go {
            animation: flashOut 0.4s ease-out forwards;
        }

        @keyframes flashOut {
            0% {
                opacity: 0.35;
            }

            100% {
                opacity: 0;
            }
        }

        /* =========================================
           BOMBASTIC POLAROID EFFECT ğŸ“¸âœ¨ (UPDATED)
           ========================================= */
        .polaroid-wrapper {
            position: relative;
            margin: 0 auto 25px auto;
            width: min(220px, 60vw);
            height: auto;
            background: #fff;
            padding: 10px 10px 15px 10px;
            box-shadow:
                0 20px 40px rgba(0, 0, 0, 0.6),
                0 0 30px rgba(255, 107, 157, 0.4);
            border-radius: 4px;
            display: none;
            flex-direction: column;
            align-items: center;
            z-index: 10;
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.3s ease;
            --rot: -3deg;
        }

        .polaroid-wrapper.show {
            display: flex;
            animation: polaroidPop 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }

        .polaroid-wrapper::before {
            content: '';
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%) rotate(-3deg);
            width: 90px;
            height: 30px;
            background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(4px);
            border: 1px solid rgba(255, 255, 255, 0.4);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 11;
        }

        .polaroid-wrapper:hover {
            transform: rotate(calc(var(--rot) * -1)) scale(1.1) translateY(-10px) !important;
            box-shadow:
                0 30px 60px rgba(0, 0, 0, 0.7),
                0 0 50px rgba(255, 107, 157, 0.8);
        }

        .polaroid-img-box {
            width: 100%;
            aspect-ratio: 4 / 5;
            overflow: hidden;
            background: #111;
            border-radius: 2px;
        }

        .polaroid-img-box img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .polaroid-wrapper:hover .polaroid-img-box img {
            transform: scale(1.15);
        }

        .polaroid-caption {
            position: relative;
            width: 100%;
            margin-top: 12px;
            text-align: center;
            font-family: 'Caveat', cursive;
            color: #1a1a2e;
            font-size: clamp(1.1rem, 4.5vw, 1.4rem);
            font-weight: 600;
            line-height: 1.2;
            letter-spacing: 0.5px;
            word-wrap: break-word;
        }

        @keyframes polaroidPop {
            0% {
                opacity: 0;
                transform: scale(0.3) translateY(80px) rotate(-20deg);
            }

            50% {
                opacity: 1;
                transform: scale(1.15) translateY(-15px) rotate(10deg);
            }

            100% {
                opacity: 1;
                transform: scale(1) translateY(0) rotate(var(--rot));
            }
        }

        @media (max-width:480px) {
            .card {
                padding: 32px 22px;
            }
        }

        /* =========================================
           MINI GAME: CATCH THE HEARTS ğŸ¹ğŸ’•
           ========================================= */
        #hearts {
            position: fixed;
            inset: 0;
            z-index: 100;
            pointer-events: none;
            overflow: hidden;
        }

        .float-heart {
            position: absolute;
            font-size: var(--size);
            bottom: -60px;
            left: var(--left);
            animation: heartFloat var(--dur2) ease-in-out infinite;
            animation-delay: var(--delay, 0s);
            pointer-events: auto !important;
            cursor: crosshair;
            transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
            z-index: 50;
        }

        @keyframes heartFloat {
            0% {
                opacity: 0;
                transform: translateY(0) rotate(0deg) scale(0.5);
            }

            10% {
                opacity: 0.75;
            }

            50% {
                opacity: 0.6;
            }

            85% {
                opacity: 0.3;
            }

            100% {
                opacity: 0;
                transform: translateY(-110vh) rotate(360deg) scale(0.3);
            }
        }

        .float-heart:hover {
            transform: scale(1.6) rotate(15deg);
            filter: drop-shadow(0 0 10px rgba(255, 107, 157, 0.8));
        }

        .float-heart.popped {
            opacity: 0 !important;
            transform: scale(3) !important;
            pointer-events: none !important;
        }

        #heart-counter {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 107, 157, 0.15);
            border: 1px solid rgba(255, 107, 157, 0.4);
            padding: 10px 18px;
            border-radius: 50px;
            color: var(--white);
            font-size: 0.9rem;
            font-weight: 800;
            backdrop-filter: blur(12px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2), 0 0 20px rgba(255, 107, 157, 0.2);
            z-index: 1000;
            opacity: 0;
            transform: translateY(-20px);
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            pointer-events: none;
        }

        #heart-counter.show {
            opacity: 1;
            transform: translateY(0);
        }

        #heart-count {
            color: var(--gold);
            font-size: 1.1rem;
        }

        .secret-modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(10, 10, 26, 0.85);
            backdrop-filter: blur(15px);
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
        }

        .secret-modal-overlay.open {
            opacity: 1;
            pointer-events: auto;
        }

        .secret-modal {
            background: linear-gradient(135deg, rgba(255, 107, 157, 0.1), rgba(255, 215, 0, 0.05));
            border: 1px solid rgba(255, 215, 0, 0.4);
            border-radius: 24px;
            padding: 40px 30px;
            width: min(420px, 90vw);
            text-align: center;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5), 0 0 40px rgba(255, 215, 0, 0.15), inset 0 0 20px rgba(255, 107, 157, 0.1);
            transform: scale(0.8) translateY(30px);
            transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .secret-modal-overlay.open .secret-modal {
            transform: scale(1) translateY(0);
        }

        .secret-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.2rem;
            background: linear-gradient(135deg, #f5c842, #ff6b9d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            line-height: 1.2;
        }

        .secret-body {
            font-size: 1rem;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.85);
            margin-bottom: 25px;
        }

        .secret-body em {
            color: #ff6b9d;
            font-weight: 800;
            font-style: normal;
        }

        .secret-close {
            background: linear-gradient(135deg, #f5c842, #ff8c69);
            border: none;
            color: #1a1a2e;
            font-weight: 900;
            font-size: 1.1rem;
            padding: 14px 35px;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(245, 200, 66, 0.4);
            transition: transform 0.2s;
        }

        .secret-close:hover {
            transform: scale(1.08) translateY(-2px);
        }

        /* =========================================
           CUSTOM CURSOR BUCIN ğŸ’˜
           ========================================= */
        body {
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="%23ff6b9d"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>') 14 14, auto;
        }

        button,
        .float-heart,
        .nav-btn,
        .polaroid-wrapper,
        .dot {
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="%23f5c842"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>') 14 14, pointer !important;
        }

        /* =========================================
           TOAST GOLDEN HEART ğŸ’›
           ========================================= */
        #golden-toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(50px);
            background: rgba(245, 200, 66, 0.95);
            color: #1a1a2e;
            padding: 14px 28px;
            border-radius: 50px;
            font-weight: 800;
            font-size: 0.95rem;
            box-shadow: 0 10px 30px rgba(245, 200, 66, 0.5);
            z-index: 10000;
            opacity: 0;
            pointer-events: none;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            text-align: center;
            width: max-content;
            max-width: 90vw;
        }

        #golden-toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
    </style>
</head>

<body>

    <div id="bg-gradient"></div>
    <div id="bg-blob">
        <div class="blob" id="blob1" style="width:500px;height:500px;top:-100px;left:-150px;"></div>
        <div class="blob" id="blob2" style="width:400px;height:400px;bottom:-80px;right:-100px;"></div>
        <div class="blob" id="blob3" style="width:280px;height:280px;top:40%;left:60%;"></div>
    </div>
    <div class="stars" id="stars"></div>
    <div id="hearts"></div>
    <div class="particles" id="particles"></div>
    <div id="flash"></div>
    <canvas id="confetti"></canvas>
    <div class="burst-overlay" id="burst-overlay">
        <div class="burst-text" id="burst-text"></div>
    </div>

    <div class="container">
        <div class="header">
            <h1>22 Alasan Kenapa Aku<br>Sayang Kamu ğŸ’•</h1>
            <p class="subtitle">Khusus untuk ulang tahunmu yang ke-22, Eva Sayangku âœ¨</p>
        </div>

        <div class="progress-wrap">
            <div class="progress-label">
                <span>Progress</span>
                <span><span id="prog-num">1</span> / 22</span>
            </div>
            <div class="progress-bar-bg">
                <div class="progress-bar-fill" id="prog-fill" style="width:4.5%"></div>
            </div>
        </div>

        <div class="card-wrap" id="card-wrap">
            <div class="card" id="card">
                <div class="polaroid-wrapper" id="polaroid-wrapper">
                    <div class="polaroid-img-box">
                        <img id="polaroid-img" src="" alt="Memory Eva">
                    </div>
                    <div class="polaroid-caption" id="polaroid-caption"></div>
                </div>
                <span class="reason-num-tag" id="reason-tag">Alasan #1</span>
                <span class="card-icon" id="card-icon">ğŸ”‘</span>
                <span class="big-num" id="big-num">#1</span>
                <p class="reason-text" id="reason-text"></p>
            </div>
        </div>

        <p class="swipe-hint" id="swipe-hint">â† geser untuk navigasi â†’</p>

        <div class="dots" id="dots"></div>

        <div class="nav">
            <button class="nav-btn" id="btn-prev" onclick="navigate(-1)" disabled>â—€</button>
            <button class="nav-btn primary" id="btn-next" onclick="navigate(1)">ğŸ’Œ</button>
        </div>
    </div>

    <audio id="bg-music" loop>
        <source src="Nadin_Amizah_-_Semua_Aku_Dirayakan.mp3" type="audio/mpeg">
    </audio>

    <audio id="vn-audio">
        <source src="voice-note-eva.mp4" type="audio/mp4">
    </audio>

    <button id="vn-play-btn" onclick="playVoiceNote()"
        style="display: none; position: relative; z-index: 100; margin-top: 20px; background: linear-gradient(135deg, #f5c842, #ff6b9d); color: #1a1a2e; border: none; padding: 12px 30px; border-radius: 50px; font-weight: 800; font-size: 1.1rem; cursor: pointer; box-shadow: 0 4px 15px rgba(255, 107, 157, 0.4); transition: transform 0.2s;">
        â–¶ï¸ Dengerin Suara Aku
    </button>

    <button id="music-toggle" onclick="toggleMusic()">ğŸ”Š</button>

    <div id="heart-counter">Hati tertangkap: <span id="heart-count">0</span> / 22</div>

    <div class="secret-modal-overlay" id="secret-modal-overlay">
        <div class="secret-modal">
            <div class="secret-title">ğŸ‰ SECRET UNLOCKED! ğŸ‰</div>
            <div class="secret-body">
                Wah, kamu hebat banget berhasil menangkap <em>22 hati</em> cintaku yang melayang! (Sesuai umurmu yang
                ke-22 hihihi).<br><br>
                Ini bukti kalau kamu emang selalu bisa <em>nangkep hati aku</em>, di dunia nyata maupun di dunia maya
                ğŸ˜‰ğŸ’–<br><br>
                <em>"I love you more than 22 hearts could ever hold. Happy birthday, Eva!"</em> ğŸ‚âœ¨
            </div>
            <button class="secret-close" onclick="closeSecretModal()">Aku Sayang Kamu! ğŸ˜</button>
        </div>
    </div>

    <div id="golden-toast">Wah, kamu nangkep hati emasku! Berhak dapet 1 pelukan ekstra pas kita ketemu nanti! ğŸ¤—</div>

    <script>
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  REASON DATA â€” each has its own color soul ğŸ¨
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const reasons = [
            {
                num: "#1", tag: "Alasan #1", icon: "ğŸ”‘",
                text: "Waktu kita sempet putus, kamu yang duluan balik nyamperin aku. Kalau bukan karena keberanian kamu itu... mungkin kita udah <em>lost forever</em>. Makasih udah lebih berani dari aku ğŸ¥º",
                accent: "#FF2D55", gold: "#FF6B6B",
                blob1: "#FF2D55", blob2: "#C1121F",
                particles: ["ğŸ’ª", "ğŸ”‘", "â¤ï¸â€ğŸ”¥", "âœ¨"],
                milestone: null,
                image: "Foto/IMG-20240518-WA0046.jpg", caption: "Awal yang berani ğŸ¥º"
            },
            {
                num: "#2", tag: "Alasan #2", icon: "ğŸ¤",
                text: "Dari semua orang yang ada di hidupku, cuma kamu yang bisa aku percaya <em>100% tanpa syarat</em>. Bahkan melebihi kepercayaanku pada diriku sendiri.",
                accent: "#FFD700", gold: "#FFA500",
                blob1: "#FFD700", blob2: "#B8860B",
                particles: ["ğŸ¤", "ğŸ’›", "â­", "ğŸŒŸ"],
                milestone: null,
                image: "Foto/IMG-20240518-WA0057(3).jpg", caption: "Trust 100% ğŸ’›"
            },
            {
                num: "#3", tag: "Alasan #3", icon: "ğŸ’…",
                text: "Kamu adalah cewe paling <em>independent</em> yang pernah aku kenal sedunia, tapi begitu sama aku, mode manja aktif dalam 0,3 detik. Dan aku... suka banget itu ğŸ˜",
                accent: "#BF5AF2", gold: "#9B59B6",
                blob1: "#BF5AF2", blob2: "#6C3483",
                particles: ["ğŸ’…", "ğŸ‘‘", "ğŸ’œ", "âœ¨"],
                milestone: null,
                image: "Foto/IMG-20240518-WA0065.jpg", caption: "Independent tapi manja ğŸ˜"
            },
            {
                num: "#4", tag: "Alasan #4", icon: "ğŸ•¶ï¸",
                text: "Kamu adalah konsultan penampilan pribadi aku yang <em>tidak pernah aku minta</em>, spesialis kacamata & rambut. Kesel sih, tapi manjaaaa banget.",
                accent: "#FF375F", gold: "#FF69B4",
                blob1: "#FF375F", blob2: "#C0392B",
                particles: ["ğŸ•¶ï¸", "ğŸ’„", "ğŸ‘—", "ğŸŒ¸"],
                milestone: null,
                image: "Foto/IMG-20240518-WA0074.jpg", caption: "Stylist pribadi ğŸ•¶ï¸"
            },
            {
                num: "#5", tag: "Alasan #5", icon: "ğŸ¥Š",
                text: "Kita bisa berantem soal hal sekecil apapun, dan entah gimana caranya, tiap abis berantem aku justru <em>makin sayang</em>. Ini sorcery apa?! ğŸ« ",
                accent: "#FF6B00", gold: "#FF9F0A",
                blob1: "#FF6B00", blob2: "#E74C3C",
                particles: ["ğŸ¥Š", "ğŸ”¥", "ğŸ’¥", "â¤ï¸"],
                milestone: { text: "5 Alasan! ğŸ”¥", sub: "Baru seperempat jalan~" },
                image: "Foto/IMG-20240518-WA0083.jpg", caption: "Berantem tapi sayang ğŸ¥Šâ¤ï¸"
            },
            {
                num: "#6", tag: "Alasan #6", icon: "ğŸŒ±",
                text: "Liat kamu kerja keras, tekun, dan punya ambisi yang besar. Itu bikin aku malu sendiri kalau mau males. Kamu adalah <em>motivator aku yang paling efektif</em> tanpa perlu ngomong apa-apa.",
                accent: "#30D158", gold: "#2ECC71",
                blob1: "#30D158", blob2: "#1A6B36",
                particles: ["ğŸŒ±", "ğŸŒ¿", "ğŸ’š", "âš¡"],
                milestone: null,
                image: "Foto/IMG-20240518-WA0102.jpg", caption: "Motivator terbaik ğŸŒ±"
            },
            {
                num: "#7", tag: "Alasan #7", icon: "ğŸŒ™",
                text: "Suara kamu pas <em>ketiduran di telepon</em> itu jadi lagu tidur favorit aku yang tidak akan pernah ada di Spotify. Exclusive buat aku doang ğŸµ",
                accent: "#0A84FF", gold: "#5AC8FA",
                blob1: "#0A84FF", blob2: "#0D3B8F",
                particles: ["ğŸŒ™", "â­", "ğŸŒ ", "ğŸ’¤"],
                milestone: null,
                image: "Foto/IMG-20240518-WA0127.jpg", caption: "Lagu tidur favorit ğŸŒ™"
            },
            {
                num: "#8", tag: "Alasan #8", icon: "âœ¨",
                text: "Tatapan mata kamu itu seriously sesuatu. Aku bisa tenggelam di situ, dan anehnya... aku ga mau diselamatkan. <em>SOS tapi ga mau ditolong.</em>",
                accent: "#5AC8FA", gold: "#32ADE6",
                blob1: "#5AC8FA", blob2: "#0A84FF",
                particles: ["ğŸ‘€", "âœ¨", "ğŸ’«", "ğŸŒŠ"],
                milestone: null,
                image: "Foto/IMG-20240518-WA0156.jpg", caption: "Mata yang bikin tenggelam âœ¨"
            },
            {
                num: "#9", tag: "Alasan #9", icon: "âœˆï¸",
                text: "Kamu udah <em>2 kali terbang jauh</em> nyamperin aku ke Indonesia. Sementara aku? Belum pernah sekali pun. Aku tau aku berhutang besar, dan itu salah satu janji yang ga akan aku lupa.",
                accent: "#32ADE6", gold: "#5AC8FA",
                blob1: "#32ADE6", blob2: "#1A527D",
                particles: ["âœˆï¸", "ğŸŒ", "ğŸ›«", "â˜ï¸"],
                milestone: null,
                image: "Foto/IMG-20240519-WA0002.jpg", caption: "Nyamperin jauh-jauh âœˆï¸ğŸ’•"
            },
            {
                num: "#10", tag: "Alasan #10", icon: "ğŸ’†",
                text: "Kamu selalu bisa <em>ngerti kondisi aku</em>, bahkan sebelum aku selesai jelasin. Kadang tanpa kata-kata pun kamu udah tau. Itu bukan sesuatu yang bisa dipelajari.",
                accent: "#C084FC", gold: "#A855F7",
                blob1: "#C084FC", blob2: "#6B21A8",
                particles: ["ğŸ”®", "ğŸ’œ", "ğŸŒŒ", "âœ¨"],
                milestone: { text: "10 Alasan! ğŸ’«", sub: "Setengah jalan, terus lanjut ya!" },
                image: "Foto/IMG-20240519-WA0013.jpg", caption: "Selalu ngerti aku ğŸ’œ"
            },
            {
                num: "#11", tag: "Alasan #11", icon: "ğŸ”¥",
                text: "Kamu yang paling keras nuntut aku buat terus grow dan berkembang. Kadang bikin aku kena mental, tapi itu bukti kamu <em>percaya aku bisa lebih</em>. Dan itu hal terindah.",
                accent: "#34C759", gold: "#30D158",
                blob1: "#34C759", blob2: "#166534",
                particles: ["ğŸ”¥", "ğŸ’ª", "ğŸŒŸ", "â¬†ï¸"],
                milestone: null,
                image: "Foto/IMG-20240519-WA0078.jpg", caption: "Push aku jadi lebih ğŸ”¥"
            },
            {
                num: "#12", tag: "Alasan #12", icon: "ğŸ ",
                text: "Kamu mau dengan bangga kenalin aku ke keluarga kamu. Itu bukan hal kecil buat aku. Itu salah satu hal yang bikin aku ngerasa <em>benar-benar diterima.</em>",
                accent: "#FF9F0A", gold: "#FFD60A",
                blob1: "#FF9F0A", blob2: "#92400E",
                particles: ["ğŸ ", "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§", "ğŸ’›", "ğŸ¤—"],
                milestone: null,
                image: "Foto/IMG-20240519-WA0112(1).jpg", caption: "Diterima keluarga ğŸ ğŸ’›"
            },
            {
                num: "#13", tag: "Alasan #13", icon: "ğŸ“¸",
                text: "Setiap pap yang kamu kirim, selalu cantik, imut, menggemaskan banget. Tapi <em>60% view once.</em> Aku tersiksa setiap hari dan ga bisa protes karena kamu cantik banget. ğŸ˜­",
                accent: "#FF2D78", gold: "#FF6BA8",
                blob1: "#FF2D78", blob2: "#9D174D",
                particles: ["ğŸ“¸", "ğŸ˜­", "ğŸ’•", "ğŸ‘€"],
                milestone: null,
                image: "Foto/IMG-20240519-WA0113(1).jpg", caption: "Cantik banget sih ğŸ“¸ğŸ˜­"
            },
            {
                num: "#14", tag: "Alasan #14", icon: "ğŸ—“ï¸",
                text: "Kita cuma pernah ketemu <em>3 hari dari 365 hari</em> dalam setahun. Tapi 3 hari itu jadi core memory terbaik yang aku punya. Kalau bisa, aku mau hidup di 3 hari itu selamanya.",
                accent: "#FFD700", gold: "#FFA500",
                blob1: "#FFD700", blob2: "#78350F",
                particles: ["ğŸ—“ï¸", "â³", "ğŸ’›", "ğŸŒ…"],
                milestone: null,
                image: "Foto/IMG-20240520-WA0003(1).jpg", caption: "3 hari terbaik ğŸ—“ï¸ğŸ’›"
            },
            {
                num: "#15", tag: "Alasan #15", icon: "ğŸ’¬",
                text: "Kamu selalu jujur soal perasaan kamu, walaupun kadang kebenarannya bikin aku sesak dan meleleh <em>secara bersamaan.</em> Itu seni tersendiri.",
                accent: "#E5E5EA", gold: "#C7C7CC",
                blob1: "#8E8E93", blob2: "#48484A",
                particles: ["ğŸ’¬", "ğŸ•Šï¸", "ğŸ’", "âœ¨"],
                milestone: { text: "15 Alasan! ğŸ¥º", sub: "Tinggal 7 lagi... hampir sampai!" },
                image: "Foto/IMG-20240520-WA0031.jpg", caption: "Jujur dan tulus ğŸ’¬"
            },
            {
                num: "#16", tag: "Alasan #16", icon: "ğŸ‘‚",
                text: "Kamu selalu dengerin cerita aku, bahkan yang paling ga penting dan receh sekalipun. Itu mungkin kelihatan kecil, tapi buat aku itu <em>everything.</em>",
                accent: "#0A84FF", gold: "#5AC8FA",
                blob1: "#0A84FF", blob2: "#1E3A5F",
                particles: ["ğŸ‘‚", "ğŸ’™", "ğŸŒŠ", "ğŸµ"],
                milestone: null,
                image: "Foto/IMG-20240520-WA0051.jpg", caption: "Pendengar terbaik ğŸ‘‚ğŸ’™"
            },
            {
                num: "#17", tag: "Alasan #17", icon: "ğŸ›¡ï¸",
                text: "Pas aku kecelakaan. Pas ada masalah kerja. Pas drama keluarga. Kamu selalu ada, <em>konsisten, ga pernah pergi.</em> Kamu itu konstanta dalam hidup aku.",
                accent: "#5E5CE6", gold: "#7C7AE8",
                blob1: "#5E5CE6", blob2: "#1E1B4B",
                particles: ["ğŸ›¡ï¸", "ğŸ’™", "âš”ï¸", "ğŸŒŸ"],
                milestone: null,
                image: "Foto/IMG-20240520-WA0107.jpg", caption: "Selalu ada, selalu ğŸ›¡ï¸"
            },
            {
                num: "#18", tag: "Alasan #18", icon: "ğŸ“–",
                text: "Kamu ingat hal-hal kecil tentang aku yang bahkan aku sendiri udah lupa. Kamu tuh kayak diary hidup aku yang bisa jalan sendiri. Dan itu bikin aku <em>merasa sangat diperhatikan.</em>",
                accent: "#FF6B9D", gold: "#FFB3C1",
                blob1: "#FF6B9D", blob2: "#831843",
                particles: ["ğŸ“–", "ğŸ’—", "ğŸŒ¸", "âœ¨"],
                milestone: null,
                image: "Foto/IMG-20240520-WA0121.jpg", caption: "Diary hidup aku ğŸ“–ğŸ’—"
            },
            {
                num: "#19", tag: "Alasan #19", icon: "ğŸ””",
                text: "Dari semua notifikasi yang masuk setiap hari, notifikasi dari kamu itu yang pertama dan paling aku cari. Selalu. Tanpa terkecuali. <em>Kamu adalah highlight hari-hariku.</em>",
                accent: "#FF6B2B", gold: "#FF9F0A",
                blob1: "#FF6B2B", blob2: "#7C2D12",
                particles: ["ğŸ””", "ğŸŒŸ", "ğŸ’«", "ğŸ‰"],
                milestone: null,
                image: "Foto/IMG-20250602-WA0011(1).jpg", caption: "Notif paling ditunggu ğŸ””"
            },
            {
                num: "#20", tag: "Alasan #20", icon: "ğŸ’¬",
                text: "Kamu selalu manggil aku <em>sayang</em> atau <em>seng</em>, dan percaya atau engga, aku belum pernah bosen dengernya satu kali pun. Makanya tiap dipanggil 'u' rasanya kayak ada yang kurang. ğŸ¥²",
                accent: "#FF375F", gold: "#FF6BA8",
                blob1: "#FF375F", blob2: "#881337",
                particles: ["ğŸ’¬", "â¤ï¸", "ğŸ¥°", "ğŸ’•"],
                milestone: { text: "20 Alasan! â¤ï¸", sub: "2 alasan lagi... siap-siap ya ğŸ‚" },
                image: "Foto/IMG-20250603-WA0008(1).jpg", caption: "Sayang & Seng ğŸ’¬â¤ï¸"
            },
            {
                num: "#21", tag: "Alasan #21", icon: "ğŸŒ¸",
                text: "Kamu selalu baik sama semua orang, bahkan ke yang sering ga balik baik ke kamu. Itu bukan naif. Itu hati yang <em>besar banget</em>. Dan itu salah satu hal yang paling aku kagumi dari kamu. ğŸ«¶",
                accent: "#FFD60A", gold: "#FFAA00",
                blob1: "#FFD60A", blob2: "#713F12",
                particles: ["ğŸŒ¸", "ğŸŒ»", "ğŸ’›", "ğŸŒˆ"],
                milestone: null,
                image: "Foto/IMG-20250614-WA0007(2).jpg", caption: "Hati yang besar ğŸŒ¸ğŸ«¶"
            },
            {
                num: "#22", tag: "Alasan #22 ğŸ‚", icon: "ğŸ‚",
                text: null,
                accent: "#FF6B9D", gold: "#FFD700",
                blob1: "#FF6B9D", blob2: "#FFD700",
                particles: ["ğŸ‚", "ğŸ‰", "ğŸ’•", "ğŸŒŸ", "ğŸˆ", "âœ¨"],
                milestone: null,
                final: true,
                image: "Foto/IMG-20250614-WA0008(1).jpg", caption: "Happy 22nd Birthday! ğŸ‚ğŸ’•"
            }
        ];

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  STATE
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        let current = 0;
        let musicPlaying = false;
        let isAnimating = false;

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  STARS
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        (function createStars() {
            const c = document.getElementById('stars');
            for (let i = 0; i < 140; i++) {
                const s = document.createElement('div');
                s.className = 'star';
                const sz = Math.random() * 2.5 + 0.4;
                s.style.cssText = `width:${sz}px;height:${sz}px;left:${Math.random() * 100}%;top:${Math.random() * 100}%;--dur:${2 + Math.random() * 4}s;animation-delay:${Math.random() * 6}s`;
                c.appendChild(s);
            }
        })();

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  PARTICLES â€” rebuild on each card
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function rebuildParticles(r) {
            const c = document.getElementById('particles');
            c.innerHTML = '';
            const emojis = r.particles;
            for (let i = 0; i < 22; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                p.textContent = emojis[i % emojis.length];
                const sz = 10 + Math.random() * 16;
                p.style.cssText = `--sz:${sz}px;--left:${Math.random() * 100}%;--spd:${9 + Math.random() * 14}s;--delay:${Math.random() * 14}s`;
                c.appendChild(p);
            }
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  THEME â€” update CSS vars + blobs
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function applyTheme(r) {
            document.documentElement.style.setProperty('--accent', r.accent);
            document.documentElement.style.setProperty('--card-glow', r.accent);

            document.getElementById('blob1').style.background = r.blob1;
            document.getElementById('blob2').style.background = r.blob2;
            document.getElementById('blob3').style.background = r.accent;

            document.getElementById('prog-fill').style.background =
                `linear-gradient(90deg, ${r.accent}, ${r.gold})`;
            document.getElementById('prog-fill').style.boxShadow =
                `0 0 10px ${r.accent}`;
            document.getElementById('prog-num').style.color = r.accent;

            const bigNum = document.getElementById('big-num');
            bigNum.style.background = `linear-gradient(135deg, ${r.accent}, ${r.gold})`;
            bigNum.style.webkitBackgroundClip = 'text';
            bigNum.style.webkitTextFillColor = 'transparent';
            bigNum.style.backgroundClip = 'text';
            bigNum.style.filter = `drop-shadow(0 0 20px ${r.accent}66)`;

            const icon = document.getElementById('card-icon');
            icon.style.filter = `drop-shadow(0 0 20px ${r.accent})`;

            const card = document.getElementById('card');
            card.style.borderColor = `${r.accent}33`;
            card.style.boxShadow = `
    0 0 0 1px rgba(255,255,255,0.04) inset,
    0 40px 80px rgba(0,0,0,0.6),
    0 0 80px ${r.accent}18,
    0 0 40px ${r.accent}10
  `;

            const primaryBtn = document.getElementById('btn-next');
            primaryBtn.style.background = `linear-gradient(135deg, ${r.accent}, ${r.gold})`;
            primaryBtn.style.boxShadow = `0 8px 28px ${r.accent}55`;

            const em = document.querySelectorAll('#reason-text em');
            em.forEach(e => e.style.color = r.accent);
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  EFEK KETIKAN (TYPEWRITER) CERDAS âŒ¨ï¸
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        let typewriterTimeout;

        function typeWriterHTML(element, htmlString, speed = 35) {
            element.innerHTML = '';
            let i = 0;
            let isTag = false;
            let text = '';

            if (typewriterTimeout) clearTimeout(typewriterTimeout);

            function type() {
                if (i < htmlString.length) {
                    let char = htmlString.charAt(i);

                    if (char === '<') isTag = true;

                    text += char;
                    i++;

                    if (isTag) {
                        while (i < htmlString.length && htmlString.charAt(i - 1) !== '>') {
                            text += htmlString.charAt(i);
                            i++;
                        }
                        isTag = false;
                        type();
                    } else {
                        element.innerHTML = text;
                        typewriterTimeout = setTimeout(type, speed);
                    }
                }
            }
            type();
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  RENDER CARD
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function renderCard(animate = true, dir = 1) {
            if (isAnimating && animate) return;
            const r = reasons[current];

            if (animate) {
                isAnimating = true;
                const card = document.getElementById('card');
                card.classList.add(dir > 0 ? 'exit-left' : 'exit-right');

                setTimeout(() => {
                    card.classList.remove('exit-left', 'exit-right');
                    updateCardContent(r);
                    applyTheme(r);
                    rebuildParticles(r);

                    card.classList.add(dir > 0 ? 'enter-right' : 'enter-left');
                    setTimeout(() => {
                        card.classList.remove('enter-right', 'enter-left');
                        isAnimating = false;
                    }, 450);
                }, 340);
            } else {
                updateCardContent(r);
                applyTheme(r);
                rebuildParticles(r);
            }

            updateProgress();
            renderDots();

            // Milestone pop
            if (r.milestone) {
                setTimeout(() => showMilestone(r.milestone, r.accent), 600);
            }

            // Final card confetti + voice note
            if (r.final) {
                setTimeout(() => launchFinalCelebration(), 500);

                // Cinematic fade out music
                fadeOutMusic();

                // Show secret voice note button inside card
                const vnBtn = document.getElementById('vn-play-btn');
                document.getElementById('card').appendChild(vnBtn);
                vnBtn.style.display = 'inline-block';
            }
        }

        function updateCardContent(r) {
            document.getElementById('reason-tag').textContent = r.tag;
            document.getElementById('card-icon').textContent = r.icon;
            document.getElementById('big-num').textContent = r.num;

            const card = document.getElementById('card');
            const textEl = document.getElementById('reason-text');

            // === POLAROID LOGIC ===
            const polaroidWrap = document.getElementById('polaroid-wrapper');
            const polaroidImg = document.getElementById('polaroid-img');
            const polaroidCaption = document.getElementById('polaroid-caption');

            if (r.image) {
                polaroidWrap.classList.remove('show');
                void polaroidWrap.offsetWidth;
                polaroidImg.src = r.image;
                polaroidCaption.textContent = r.caption || '';
                const randomRot = (Math.random() * 10 - 5).toFixed(1);
                polaroidWrap.style.setProperty('--rot', `${randomRot}deg`);
                polaroidWrap.classList.add('show');
            } else {
                polaroidWrap.classList.remove('show');
            }

            if (r.final) {
                card.classList.add('final-card');
                textEl.innerHTML = `
      <div class="final-msg">Selamat Ulang Tahun ke-22, Sayangku! ğŸ‰</div>
      <div class="final-sub">
        Karena kamu bukan cuma pacar.<br>
        Kamu adalah <em>hadiah terbaik yang pernah Tuhan kasih ke aku</em>.<br><br>
        Aku setiap hari bangun tidur masih ga percaya kamu ada.<br>
        <em>I love you, Eva. Selalu.</em> ğŸ’–
      </div>
    `;
                document.getElementById('btn-next').style.display = 'none';
                document.getElementById('swipe-hint').style.display = 'none';
            } else {
                card.classList.remove('final-card');
                textEl.innerHTML = '';
                typeWriterHTML(textEl, r.text, 40);
                document.getElementById('btn-next').style.display = '';
                document.getElementById('swipe-hint').style.display = '';
            }
        }

        function updateProgress() {
            const pct = ((current + 1) / 22) * 100;
            document.getElementById('prog-fill').style.width = pct + '%';
            document.getElementById('prog-num').textContent = current + 1;

            document.getElementById('btn-prev').disabled = current === 0;
            const next = document.getElementById('btn-next');
            next.textContent = current === 21 ? 'ğŸ‚' : 'ğŸ’Œ';
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  DOTS
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function renderDots() {
            const container = document.getElementById('dots');
            container.innerHTML = '';
            reasons.forEach((_, i) => {
                const d = document.createElement('div');
                d.className = 'dot' + (i === current ? ' active' : i < current ? ' visited' : '');
                d.onclick = () => { if (i !== current) { const dir = i > current ? 1 : -1; current = i; renderCard(true, dir); } };
                container.appendChild(d);
            });
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  NAVIGATE
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function navigate(dir) {
            if (isAnimating) return;
            const next = current + dir;
            if (next < 0 || next >= reasons.length) return;
            current = next;
            renderCard(true, dir);
            spawnRipple();
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  SWIPE GESTURE
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        let touchStartX = 0, touchStartY = 0;

        document.getElementById('card-wrap').addEventListener('touchstart', e => {
            touchStartX = e.touches[0].clientX;
            touchStartY = e.touches[0].clientY;
        }, { passive: true });

        document.getElementById('card-wrap').addEventListener('touchend', e => {
            const dx = e.changedTouches[0].clientX - touchStartX;
            const dy = e.changedTouches[0].clientY - touchStartY;
            if (Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > 50) {
                navigate(dx < 0 ? 1 : -1);
            }
        }, { passive: true });

        // Desktop drag
        let mouseStartX = 0, isDragging = false;
        const cardEl = document.getElementById('card');
        cardEl.addEventListener('mousedown', e => { mouseStartX = e.clientX; isDragging = true; });
        document.addEventListener('mousemove', e => {
            if (!isDragging) return;
            const dx = e.clientX - mouseStartX;
            cardEl.style.transform = `translateX(${dx * 0.1}px) rotate(${dx * 0.01}deg)`;
        });
        document.addEventListener('mouseup', e => {
            if (!isDragging) return;
            isDragging = false;
            const dx = e.clientX - mouseStartX;
            cardEl.style.transform = '';
            if (Math.abs(dx) > 80) navigate(dx < 0 ? 1 : -1);
        });

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  KEYBOARD
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        document.addEventListener('keydown', e => {
            if (e.key === 'ArrowRight' || e.key === ' ') navigate(1);
            if (e.key === 'ArrowLeft') navigate(-1);
        });

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  RIPPLE on button click
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function spawnRipple() {
            const card = document.getElementById('card');
            const r = document.createElement('div');
            r.className = 'ripple';
            r.style.cssText = `
    width: 80px; height: 80px;
    left: calc(50% - 40px); top: calc(50% - 40px);
  `;
            card.appendChild(r);
            setTimeout(() => r.remove(), 700);
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  SPARKLES burst
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function spawnSparkles(count = 10, emojis = ['âœ¨', 'ğŸŒŸ', 'ğŸ’«']) {
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const el = document.createElement('div');
                    el.className = 'sparkle';
                    const sz = 0.8 + Math.random() * 1.4;
                    const angle = Math.random() * Math.PI * 2;
                    const dist = 80 + Math.random() * 120;
                    el.style.cssText = `
        --sz:${sz}rem;
        --tx:${Math.cos(angle) * dist}px;
        --ty:${Math.sin(angle) * dist - 60}px;
        left:${20 + Math.random() * 60}vw;
        top:${30 + Math.random() * 40}vh;
      `;
                    el.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                    document.body.appendChild(el);
                    setTimeout(() => el.remove(), 1000);
                }, i * 80);
            }
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  MILESTONE
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function showMilestone(m, color) {
            const el = document.getElementById('burst-text');
            el.style.background = `linear-gradient(135deg, ${color}, #fff)`;
            el.style.webkitBackgroundClip = 'text';
            el.style.webkitTextFillColor = 'transparent';
            el.style.backgroundClip = 'text';
            el.innerHTML = `${m.text}<br><span style="font-size:0.45em;-webkit-text-fill-color:rgba(255,255,255,0.7)">${m.sub}</span>`;
            el.classList.remove('pop');
            void el.offsetWidth;
            el.classList.add('pop');

            // Flash
            const flash = document.getElementById('flash');
            flash.style.background = color;
            flash.classList.remove('go');
            void flash.offsetWidth;
            flash.classList.add('go');

            spawnSparkles(18, ['ğŸŒŸ', 'âœ¨', 'ğŸ’«', 'â­', 'ğŸŠ']);
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  FINAL CELEBRATION
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function launchFinalCelebration() {
            spawnSparkles(30, ['ğŸ‚', 'ğŸ‰', 'ğŸ’•', 'ğŸŒŸ', 'ğŸˆ', 'âœ¨', 'ğŸ’–', 'ğŸŠ']);

            const flash = document.getElementById('flash');
            flash.style.background = 'linear-gradient(135deg, #FF6B9D, #FFD700)';
            flash.classList.remove('go');
            void flash.offsetWidth;
            flash.classList.add('go');

            const canvas = document.getElementById('confetti');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const colors = ['#f5c842', '#ff6b9d', '#ff8c69', '#c084fc', '#fff', '#ffd6e7', '#ff2d55', '#30d158', '#0a84ff'];
            const shapes = ['rect', 'circle', 'star'];
            const particles = [];

            for (let i = 0; i < 200; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: -30 - Math.random() * 300,
                    vx: (Math.random() - 0.5) * 5,
                    vy: 1.5 + Math.random() * 5,
                    size: 5 + Math.random() * 11,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    shape: shapes[Math.floor(Math.random() * shapes.length)],
                    rot: Math.random() * Math.PI * 2,
                    rotV: (Math.random() - 0.5) * 0.15,
                });
            }

            let frame = 0;
            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                particles.forEach(p => {
                    p.x += p.vx; p.y += p.vy; p.vy += 0.04; p.rot += p.rotV;
                    if (p.y > canvas.height + 30) { p.y = -20; p.x = Math.random() * canvas.width; }
                    ctx.save();
                    ctx.translate(p.x, p.y);
                    ctx.rotate(p.rot);
                    ctx.fillStyle = p.color;
                    ctx.globalAlpha = 0.9;
                    if (p.shape === 'rect') {
                        ctx.fillRect(-p.size / 2, -p.size / 4, p.size, p.size / 2);
                    } else if (p.shape === 'circle') {
                        ctx.beginPath(); ctx.arc(0, 0, p.size / 2, 0, Math.PI * 2); ctx.fill();
                    } else {
                        ctx.beginPath();
                        for (let s = 0; s < 5; s++) {
                            ctx.lineTo(Math.cos((18 + 72 * s) * Math.PI / 180) * p.size / 2, Math.sin((18 + 72 * s) * Math.PI / 180) * p.size / 2);
                            ctx.lineTo(Math.cos((54 + 72 * s) * Math.PI / 180) * p.size / 4, Math.sin((54 + 72 * s) * Math.PI / 180) * p.size / 4);
                        }
                        ctx.closePath(); ctx.fill();
                    }
                    ctx.restore();
                });
                frame++;
                if (frame < 350) requestAnimationFrame(draw);
                else ctx.clearRect(0, 0, canvas.width, canvas.height);
            }
            draw();

            // Repeat bursts
            let burst = 0;
            const burstInt = setInterval(() => {
                burst++;
                spawnSparkles(8, ['ğŸ‚', 'ğŸ’•', 'ğŸŒŸ', 'âœ¨']);
                if (burst >= 5) clearInterval(burstInt);
            }, 900);
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  MUSIC
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function toggleMusic() {
            const music = document.getElementById('bg-music');
            if (musicPlaying) {
                music.pause(); musicPlaying = false;
                document.getElementById('music-toggle').textContent = 'ğŸ”‡';
            } else {
                music.play(); musicPlaying = true;
                document.getElementById('music-toggle').textContent = 'ğŸ”Š';
            }
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  FADE OUT & VOICE NOTE ğŸ™ï¸
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function fadeOutMusic() {
            const music = document.getElementById('bg-music');
            let vol = music.volume;
            const fadeInterval = setInterval(() => {
                if (vol > 0.05) {
                    vol -= 0.05;
                    music.volume = vol;
                } else {
                    music.pause();
                    clearInterval(fadeInterval);
                    musicPlaying = false;
                    document.getElementById('music-toggle').textContent = 'ğŸ”‡';
                }
            }, 200);
        }

        function playVoiceNote() {
            const vn = document.getElementById('vn-audio');
            vn.play();

            const btn = document.getElementById('vn-play-btn');
            btn.textContent = "I love you ğŸ’•";
            btn.style.pointerEvents = "none";
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  MINI GAME LOGIC (FINAL + GOLDEN HEART + POP SFX) ğŸ¹ï¿½
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        let heartsCaught = 0;

        // Pop SFX via Web Audio API (no external file needed)
        function playPopSound() {
            try {
                const ctx = new (window.AudioContext || window.webkitAudioContext)();
                const osc = ctx.createOscillator();
                const gain = ctx.createGain();
                osc.connect(gain);
                gain.connect(ctx.destination);
                osc.frequency.setValueAtTime(600, ctx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(200, ctx.currentTime + 0.15);
                gain.gain.setValueAtTime(0.3, ctx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.15);
                osc.start(ctx.currentTime);
                osc.stop(ctx.currentTime + 0.15);
            } catch (e) { }
        }

        (function createHeartsWithGame() {
            const container = document.getElementById('hearts');
            const emojis = ['ğŸ’•', 'ğŸ’–', 'ğŸ’—', 'ğŸ’“', 'âœ¨', 'ğŸŒ¸', 'ğŸ’', 'ğŸ‚', 'ğŸˆ', 'ğŸ'];

            for (let i = 0; i < 40; i++) {
                const h = document.createElement('div');
                h.className = 'float-heart';

                const isGoldenHeart = (i === 39);

                if (isGoldenHeart) {
                    h.textContent = 'ğŸ’›';
                    const baseSize = 18 + Math.random() * 22;
                    const size = baseSize * 1.5;
                    h.style.cssText = `--size:${size}px;--left:${Math.random() * 100}%;--dur2:${5 + Math.random() * 5}s;animation-delay:${Math.random() * 10}s; z-index: 51; filter: drop-shadow(0 0 15px rgba(245, 200, 66, 1));`;
                } else {
                    h.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                    const size = (18 + Math.random() * 22) * 1.2;
                    h.style.cssText = `--size:${size}px;--left:${Math.random() * 100}%;--dur2:${9 + Math.random() * 15}s;animation-delay:${Math.random() * 10}s;`;
                }

                h.onclick = function () {
                    if (this.classList.contains('popped')) return;

                    // Play pop SFX
                    playPopSound();

                    this.classList.add('popped');
                    heartsCaught++;

                    // Golden heart toast
                    if (isGoldenHeart) {
                        const toast = document.getElementById('golden-toast');
                        toast.classList.add('show');
                        setTimeout(() => toast.classList.remove('show'), 3500);
                    }

                    const counterBox = document.getElementById('heart-counter');
                    const countText = document.getElementById('heart-count');
                    if (counterBox && countText) {
                        counterBox.classList.add('show');
                        countText.textContent = heartsCaught;
                    }

                    spawnSparkles(3, ['âœ¨', 'ğŸ’–']);

                    if (heartsCaught === 22) {
                        setTimeout(() => {
                            if (typeof openSecretModal === 'function') openSecretModal();
                        }, 800);
                    }

                    setTimeout(() => {
                        this.classList.remove('popped');
                    }, 4000);
                };

                container.appendChild(h);
            }
        })();

        function openSecretModal() {
            document.getElementById('secret-modal-overlay').classList.add('open');
            document.getElementById('heart-counter').classList.remove('show');
            launchFinalCelebration();
        }

        function closeSecretModal() {
            document.getElementById('secret-modal-overlay').classList.remove('open');
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  INIT
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        renderCard(false);

        const music = document.getElementById('bg-music');
        music.volume = 0.3;
        music.play().then(() => {
            musicPlaying = true;
            document.getElementById('music-toggle').textContent = 'ğŸ”Š';
        }).catch(() => {
            document.addEventListener('click', () => {
                music.play().catch(() => { });
                musicPlaying = true;
                document.getElementById('music-toggle').textContent = 'ğŸ”Š';
            }, { once: true });
        });
    </script>
</body>

</html>